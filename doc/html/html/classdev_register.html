<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OPT3101SDK: devRegister Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OPT3101SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classdev_register-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">devRegister Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class that contains positional information for registers in the registermap.  
 <a href="classdev_register.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="register_8h_source.html">register.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a17ac6e4e1ee9a2395e94e0a3c1000caa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_register.html#a17ac6e4e1ee9a2395e94e0a3c1000caa">devRegister</a> (uint8_t <a class="el" href="classdev_register.html#a6596e86ccbcd857febb5c28bc03aa480">size</a>)</td></tr>
<tr class="memdesc:a17ac6e4e1ee9a2395e94e0a3c1000caa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for class <a class="el" href="classdev_register.html" title="Class that contains positional information for registers in the registermap. ">devRegister</a> Constructor allocated size to each register instance on construction.  <a href="#a17ac6e4e1ee9a2395e94e0a3c1000caa">More...</a><br /></td></tr>
<tr class="separator:a17ac6e4e1ee9a2395e94e0a3c1000caa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a944b194a7335c6b0a9f9f3c1ffc12c97"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_register.html#a944b194a7335c6b0a9f9f3c1ffc12c97">operator=</a> (int32_t value)</td></tr>
<tr class="memdesc:a944b194a7335c6b0a9f9f3c1ffc12c97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Operator overload for '='.  <a href="#a944b194a7335c6b0a9f9f3c1ffc12c97">More...</a><br /></td></tr>
<tr class="separator:a944b194a7335c6b0a9f9f3c1ffc12c97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7f2e7ec834102cdf3ebd3a6f849612a"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_register.html#ac7f2e7ec834102cdf3ebd3a6f849612a">read</a> ()</td></tr>
<tr class="memdesc:ac7f2e7ec834102cdf3ebd3a6f849612a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function called to read the value of register.  <a href="#ac7f2e7ec834102cdf3ebd3a6f849612a">More...</a><br /></td></tr>
<tr class="separator:ac7f2e7ec834102cdf3ebd3a6f849612a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a217b3d5b947f4c596bcdfb4ec175790f"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_register.html#a217b3d5b947f4c596bcdfb4ec175790f">msb</a> [2]</td></tr>
<tr class="memdesc:a217b3d5b947f4c596bcdfb4ec175790f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the MSB position of this register. The register occupies the <a class="el" href="classdev_register.html#ad16fbe9cd26ba1e6d823141976f756da" title="This is the ADDRESS of this register. The register occupies the devRegister::address from devRegister...">devRegister::address</a> from <a class="el" href="classdev_register.html#a217b3d5b947f4c596bcdfb4ec175790f" title="This is the MSB position of this register. The register occupies the devRegister::address from devReg...">devRegister::msb</a> to <a class="el" href="classdev_register.html#a6908a02139ef85a535848889583e6c12" title="This is the LSB position of this register. The register occupies the devRegister::address from devReg...">devRegister::lsb</a>.  <a href="#a217b3d5b947f4c596bcdfb4ec175790f">More...</a><br /></td></tr>
<tr class="separator:a217b3d5b947f4c596bcdfb4ec175790f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6908a02139ef85a535848889583e6c12"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_register.html#a6908a02139ef85a535848889583e6c12">lsb</a> [2]</td></tr>
<tr class="memdesc:a6908a02139ef85a535848889583e6c12"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the LSB position of this register. The register occupies the <a class="el" href="classdev_register.html#ad16fbe9cd26ba1e6d823141976f756da" title="This is the ADDRESS of this register. The register occupies the devRegister::address from devRegister...">devRegister::address</a> from <a class="el" href="classdev_register.html#a217b3d5b947f4c596bcdfb4ec175790f" title="This is the MSB position of this register. The register occupies the devRegister::address from devReg...">devRegister::msb</a> to <a class="el" href="classdev_register.html#a6908a02139ef85a535848889583e6c12" title="This is the LSB position of this register. The register occupies the devRegister::address from devReg...">devRegister::lsb</a>.  <a href="#a6908a02139ef85a535848889583e6c12">More...</a><br /></td></tr>
<tr class="separator:a6908a02139ef85a535848889583e6c12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad16fbe9cd26ba1e6d823141976f756da"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_register.html#ad16fbe9cd26ba1e6d823141976f756da">address</a> [2]</td></tr>
<tr class="memdesc:ad16fbe9cd26ba1e6d823141976f756da"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the ADDRESS of this register. The register occupies the <a class="el" href="classdev_register.html#ad16fbe9cd26ba1e6d823141976f756da" title="This is the ADDRESS of this register. The register occupies the devRegister::address from devRegister...">devRegister::address</a> from <a class="el" href="classdev_register.html#a217b3d5b947f4c596bcdfb4ec175790f" title="This is the MSB position of this register. The register occupies the devRegister::address from devReg...">devRegister::msb</a> to <a class="el" href="classdev_register.html#a6908a02139ef85a535848889583e6c12" title="This is the LSB position of this register. The register occupies the devRegister::address from devReg...">devRegister::lsb</a>.  <a href="#ad16fbe9cd26ba1e6d823141976f756da">More...</a><br /></td></tr>
<tr class="separator:ad16fbe9cd26ba1e6d823141976f756da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6596e86ccbcd857febb5c28bc03aa480"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_register.html#a6596e86ccbcd857febb5c28bc03aa480">size</a></td></tr>
<tr class="memdesc:a6596e86ccbcd857febb5c28bc03aa480"><td class="mdescLeft">&#160;</td><td class="mdescRight">This specifies how many ADDRESS does this register span across. For eg: There are registers which span multiple address locations in chunks.  <a href="#a6596e86ccbcd857febb5c28bc03aa480">More...</a><br /></td></tr>
<tr class="separator:a6596e86ccbcd857febb5c28bc03aa480"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class that contains positional information for registers in the registermap. </p>
<p>Class that contains positional information for a register in OPT3101 device. OPT3101 has 256 registers each 24 bits wide (<a class="el" href="classdev_register.html#a217b3d5b947f4c596bcdfb4ec175790f" title="This is the MSB position of this register. The register occupies the devRegister::address from devReg...">devRegister::msb</a> of 23 and <a class="el" href="classdev_register.html#a6908a02139ef85a535848889583e6c12" title="This is the LSB position of this register. The register occupies the devRegister::address from devReg...">devRegister::lsb</a> of 0 with <a class="el" href="classdev_register.html#ad16fbe9cd26ba1e6d823141976f756da" title="This is the ADDRESS of this register. The register occupies the devRegister::address from devRegister...">devRegister::address</a> varying from 0 to 255) Bits are groups together and are addressed with a name. Registers have names, placed at different segements of the register map. For eg: tmain (temperature of main temp sensor) of OPT3101 occupies location with address 10 from msb of 23 bits to 12 bits in other words <a class="el" href="classdev_register.html#ad16fbe9cd26ba1e6d823141976f756da" title="This is the ADDRESS of this register. The register occupies the devRegister::address from devRegister...">devRegister::address</a>=10 <a class="el" href="classdev_register.html#a217b3d5b947f4c596bcdfb4ec175790f" title="This is the MSB position of this register. The register occupies the devRegister::address from devReg...">devRegister::msb</a>=23 <a class="el" href="classdev_register.html#a6908a02139ef85a535848889583e6c12" title="This is the LSB position of this register. The register occupies the devRegister::address from devReg...">devRegister::lsb</a>=12 This class helps resolve programmers to read and write I2C to OPT3101 device by writing program code with higher level of abstraction with register names rather than dealing with positions of registers <a class="el" href="classdev_register.html" title="Class that contains positional information for registers in the registermap. ">devRegister</a> class helps resolve MSB, LSB and ADDRESS fields for a register by its name. <br />
Using this class gives user a functional name for each register making the register read and write more readable and meaningful. In case of OPT3101 device there are some registers which span across 2 address positions, hence the <a class="el" href="classdev_register.html#ad16fbe9cd26ba1e6d823141976f756da" title="This is the ADDRESS of this register. The register occupies the devRegister::address from devRegister...">devRegister::address</a>, <a class="el" href="classdev_register.html#a217b3d5b947f4c596bcdfb4ec175790f" title="This is the MSB position of this register. The register occupies the devRegister::address from devReg...">devRegister::msb</a> and <a class="el" href="classdev_register.html#a6908a02139ef85a535848889583e6c12" title="This is the LSB position of this register. The register occupies the devRegister::address from devReg...">devRegister::lsb</a> have 2 allocations each. In most register cases they may not end up using both the allocations. The actual usage can be found using <a class="el" href="classdev_register.html#a6596e86ccbcd857febb5c28bc03aa480" title="This specifies how many ADDRESS does this register span across. For eg: There are registers which spa...">devRegister::size</a> member <br />
 Example of register which has more than 1 address is <a class="el" href="class_o_p_t3101_registers.html#a7b68f2c8301673bf2329bf3d1c2068d7" title="amplitude_min_thr;Register Addresses: 16[23:16], 17[23:16]; ">OPT3101Registers::amplitude_min_thr</a> which spans across register 0x10 from bits 23:16 and 0x11 from bites 23:16 </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a17ac6e4e1ee9a2395e94e0a3c1000caa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17ac6e4e1ee9a2395e94e0a3c1000caa">&#9670;&nbsp;</a></span>devRegister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">devRegister::devRegister </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor for class <a class="el" href="classdev_register.html" title="Class that contains positional information for registers in the registermap. ">devRegister</a> Constructor allocated size to each register instance on construction. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">size;</td><td>size (typically 1 or 2 bytes) determins the number of segements that the register is divided in to. </td></tr>
  </table>
  </dd>
</dl>
<p><b>Algorithm of the method is as follows</b></p>
<ul>
<li>Assigns size from input argument to the class member <a class="el" href="classdev_register.html#a6596e86ccbcd857febb5c28bc03aa480" title="This specifies how many ADDRESS does this register span across. For eg: There are registers which spa...">devRegister::size</a> </li>
</ul>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a944b194a7335c6b0a9f9f3c1ffc12c97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a944b194a7335c6b0a9f9f3c1ffc12c97">&#9670;&nbsp;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void devRegister::operator= </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Operator overload for '='. </p>
<p>This makes calling this class simpler. dev.register=value will resolve the register address and value and invoke <a class="el" href="classhost_controller.html#a7c4126810a72333e3ebe749159a0a516" title="method to write data from I2C port ">hostController::writeI2C</a> method With proper implementation of the <a class="el" href="classhost_controller.html#a7c4126810a72333e3ebe749159a0a516" title="method to write data from I2C port ">hostController::writeI2C</a> methods the h/w would receive resolved I2C WRITE commands The write operations are read modify writes to make the system robust A single call of this method could invoke up to 2 I2C READ and 2 I2C WRITE transaction depending on the register </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">value;</td><td>value to be set to register </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

</div>
</div>
<a id="ac7f2e7ec834102cdf3ebd3a6f849612a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7f2e7ec834102cdf3ebd3a6f849612a">&#9670;&nbsp;</a></span>read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t devRegister::read </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function called to read the value of register. </p>
<p>This method provides an abstraction for register to be used seemlessly with code for read register operations. <a class="el" href="classhost_controller.html#a2bee6b3ec45fac241484f7dad943d8ed" title="method to read data from I2C port ">hostController::readI2C</a> method is invoked with <a class="el" href="classdev_register.html#ad16fbe9cd26ba1e6d823141976f756da" title="This is the ADDRESS of this register. The register occupies the devRegister::address from devRegister...">devRegister::address</a> fields and the resulting register value is combined as per the register positional information and reported as a uint32_t number A single call of this method could invoke up to 2 I2C READ transaction depending on the register </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Nothing</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value; value is reading of register from OPT3101 device </dd></dl>
<p><b>Algorithm of the method is as follows</b></p>
<ul>
<li>Loops though the number of <a class="el" href="classdev_register.html#ad16fbe9cd26ba1e6d823141976f756da" title="This is the ADDRESS of this register. The register occupies the devRegister::address from devRegister...">devRegister::address</a> fields based on on <a class="el" href="classdev_register.html#a6596e86ccbcd857febb5c28bc03aa480" title="This specifies how many ADDRESS does this register span across. For eg: There are registers which spa...">devRegister::size</a></li>
<li>Invokes <a class="el" href="classhost_controller.html#a2bee6b3ec45fac241484f7dad943d8ed" title="method to read data from I2C port ">hostController::readI2C()</a> method to get register value from h/w</li>
<li>Masks the bits for the register value to be reported based on register positional information</li>
<li>Assembles the value of the register</li>
<li>Returns the value read from the h/w for the register name specified </li>
</ul>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ad16fbe9cd26ba1e6d823141976f756da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad16fbe9cd26ba1e6d823141976f756da">&#9670;&nbsp;</a></span>address</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t devRegister::address[2]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the ADDRESS of this register. The register occupies the <a class="el" href="classdev_register.html#ad16fbe9cd26ba1e6d823141976f756da" title="This is the ADDRESS of this register. The register occupies the devRegister::address from devRegister...">devRegister::address</a> from <a class="el" href="classdev_register.html#a217b3d5b947f4c596bcdfb4ec175790f" title="This is the MSB position of this register. The register occupies the devRegister::address from devReg...">devRegister::msb</a> to <a class="el" href="classdev_register.html#a6908a02139ef85a535848889583e6c12" title="This is the LSB position of this register. The register occupies the devRegister::address from devReg...">devRegister::lsb</a>. </p>

</div>
</div>
<a id="a6908a02139ef85a535848889583e6c12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6908a02139ef85a535848889583e6c12">&#9670;&nbsp;</a></span>lsb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t devRegister::lsb[2]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the LSB position of this register. The register occupies the <a class="el" href="classdev_register.html#ad16fbe9cd26ba1e6d823141976f756da" title="This is the ADDRESS of this register. The register occupies the devRegister::address from devRegister...">devRegister::address</a> from <a class="el" href="classdev_register.html#a217b3d5b947f4c596bcdfb4ec175790f" title="This is the MSB position of this register. The register occupies the devRegister::address from devReg...">devRegister::msb</a> to <a class="el" href="classdev_register.html#a6908a02139ef85a535848889583e6c12" title="This is the LSB position of this register. The register occupies the devRegister::address from devReg...">devRegister::lsb</a>. </p>

</div>
</div>
<a id="a217b3d5b947f4c596bcdfb4ec175790f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a217b3d5b947f4c596bcdfb4ec175790f">&#9670;&nbsp;</a></span>msb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t devRegister::msb[2]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the MSB position of this register. The register occupies the <a class="el" href="classdev_register.html#ad16fbe9cd26ba1e6d823141976f756da" title="This is the ADDRESS of this register. The register occupies the devRegister::address from devRegister...">devRegister::address</a> from <a class="el" href="classdev_register.html#a217b3d5b947f4c596bcdfb4ec175790f" title="This is the MSB position of this register. The register occupies the devRegister::address from devReg...">devRegister::msb</a> to <a class="el" href="classdev_register.html#a6908a02139ef85a535848889583e6c12" title="This is the LSB position of this register. The register occupies the devRegister::address from devReg...">devRegister::lsb</a>. </p>

</div>
</div>
<a id="a6596e86ccbcd857febb5c28bc03aa480"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6596e86ccbcd857febb5c28bc03aa480">&#9670;&nbsp;</a></span>size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t devRegister::size</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This specifies how many ADDRESS does this register span across. For eg: There are registers which span multiple address locations in chunks. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>C:/folders/d/scripts/cpp/OPT3101SDK/OPT3101SDK/OPT3101SDK/<a class="el" href="register_8h_source.html">register.h</a></li>
<li>C:/folders/d/scripts/cpp/OPT3101SDK/OPT3101SDK/OPT3101SDK/<a class="el" href="register_8cpp.html">register.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
