<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OPT3101SDK: OPT3101Crosstalk Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OPT3101SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="class_o_p_t3101_crosstalk-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">OPT3101Crosstalk Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class that holds crosstalk related registers and values.  
 <a href="class_o_p_t3101_crosstalk.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_o_p_t3101_crosstalk_8h_source.html">OPT3101Crosstalk.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad983772d96c500ea16d5aa01dd03ce6d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_p_t3101_crosstalk.html#ad983772d96c500ea16d5aa01dd03ce6d">OPT3101Crosstalk</a> ()</td></tr>
<tr class="memdesc:ad983772d96c500ea16d5aa01dd03ce6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for class <a class="el" href="class_o_p_t3101_crosstalk.html" title="Class that holds crosstalk related registers and values. ">OPT3101Crosstalk</a> Constructor initializes the <a class="el" href="class_o_p_t3101_crosstalk.html#ac34c766af7381d501b1716fd8a0076db" title="flag to capture if the crosstalk values belong to internal crosstalk (false) or illum crosstalk (true...">OPT3101Crosstalk::illumXtalk</a> parameter to a default false.  <a href="#ad983772d96c500ea16d5aa01dd03ce6d">More...</a><br /></td></tr>
<tr class="separator:ad983772d96c500ea16d5aa01dd03ce6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb6217116c652bc7c0c84e7b86504f18"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_p_t3101_crosstalk.html#acb6217116c652bc7c0c84e7b86504f18">magnitude</a> ()</td></tr>
<tr class="memdesc:acb6217116c652bc7c0c84e7b86504f18"><td class="mdescLeft">&#160;</td><td class="mdescRight">calculates magnitude This method calculates the magnitude of crosstalk represented in codes. Typical and good values for internal crosstalk is around 30. Typical and good values for illum crosstalk for highest current (170mA) &lt; 300 codes.  <a href="#acb6217116c652bc7c0c84e7b86504f18">More...</a><br /></td></tr>
<tr class="separator:acb6217116c652bc7c0c84e7b86504f18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87b0ff4559660ea148e5bff1dff68331"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_p_t3101_crosstalk.html#a87b0ff4559660ea148e5bff1dff68331">readCrosstalkRegisters</a> (<a class="el" href="class_o_p_t3101device.html">OPT3101device</a> *<a class="el" href="main_8cpp.html#ab300459c1e7c2edd49f4b7b1a120dd26">dev</a>)</td></tr>
<tr class="memdesc:a87b0ff4559660ea148e5bff1dff68331"><td class="mdescLeft">&#160;</td><td class="mdescRight">reads the device 24 bit crosstalk registers This method reads the 24 bit crosstalk registers <a class="el" href="class_o_p_t3101_1_1registers.html#ae87864da6c35bed7c34ebf5f26ba4513" title="iphase_xtalk;Register Addresses: 59[23:0]; ">OPT3101::registers::iphase_xtalk</a> and <a class="el" href="class_o_p_t3101_1_1registers.html#ad94d98dfb26313a9d32c5c2c0c673693" title="qphase_xtalk;Register Addresses: 60[23:0]; ">OPT3101::registers::qphase_xtalk</a>. Translates them to 16 bit values and captures to <a class="el" href="class_o_p_t3101_crosstalk.html#a382c8271e35b33821b22d612466c96c7" title="16bit register setting for In phase component of the crosstalk ">OPT3101Crosstalk::I</a> <a class="el" href="class_o_p_t3101_crosstalk.html#a0454e10774015dd2e941f9284ea516da" title="16bit register setting for Quadrature phase component of the crosstalk ">OPT3101Crosstalk::Q</a> and <a class="el" href="class_o_p_t3101_crosstalk.html#a5a84d979d127f7624e6f19830b739d5e" title="Crosstalk registers in OPT3101 device are 24 bit where as compensation registers are 16 bit...">OPT3101Crosstalk::xtalkScale</a>  <a href="#a87b0ff4559660ea148e5bff1dff68331">More...</a><br /></td></tr>
<tr class="separator:a87b0ff4559660ea148e5bff1dff68331"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cae9662362161eb9a3d0e324b7513c3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_p_t3101_crosstalk.html#a2cae9662362161eb9a3d0e324b7513c3">readTemperatureMain</a> (<a class="el" href="class_o_p_t3101device.html">OPT3101device</a> *<a class="el" href="main_8cpp.html#ab300459c1e7c2edd49f4b7b1a120dd26">dev</a>)</td></tr>
<tr class="memdesc:a2cae9662362161eb9a3d0e324b7513c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">reads the temperature reading from main temp sensor This method reads the main temp sensor register OPT3101Register::tmain and captures to <a class="el" href="class_o_p_t3101_crosstalk.html#af5ac7c2a662a32e1ad954412a3c8d6ea" title="Member that captures the snapshot of temperature of main temp sensor during crosstalk measurement...">OPT3101Crosstalk::tmain</a>  <a href="#a2cae9662362161eb9a3d0e324b7513c3">More...</a><br /></td></tr>
<tr class="separator:a2cae9662362161eb9a3d0e324b7513c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fa60e996e6b3a74387e7d20179ca899"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_p_t3101_crosstalk.html#a4fa60e996e6b3a74387e7d20179ca899">readTemperatureIllum</a> (<a class="el" href="class_o_p_t3101device.html">OPT3101device</a> *<a class="el" href="main_8cpp.html#ab300459c1e7c2edd49f4b7b1a120dd26">dev</a>)</td></tr>
<tr class="memdesc:a4fa60e996e6b3a74387e7d20179ca899"><td class="mdescLeft">&#160;</td><td class="mdescRight">reads the temperature reading from external temp sensor This method reads the main temp sensor register OPT3101Register::tillum and captures to <a class="el" href="class_o_p_t3101_crosstalk.html#a88191108ac32b8cc9a25309ff5beae08" title="Member that captures the snapshot of temperature of external temp sensor during crosstalk measurement...">OPT3101Crosstalk::tillum</a>  <a href="#a4fa60e996e6b3a74387e7d20179ca899">More...</a><br /></td></tr>
<tr class="separator:a4fa60e996e6b3a74387e7d20179ca899"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbfaa9d700ec5bac95dd88316b1dafe0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_p_t3101_crosstalk.html#abbfaa9d700ec5bac95dd88316b1dafe0">storeToFile</a> (char *fileName)</td></tr>
<tr class="memdesc:abbfaa9d700ec5bac95dd88316b1dafe0"><td class="mdescLeft">&#160;</td><td class="mdescRight">store crosstalk values to file This methods stores the crosstalk values to a non-volatile memory. Storage to non-volatile memory is important to be able to calculate temperature coeffecient <a class="el" href="class_o_p_t3101_1_1crosstalk_temp_coff_c.html" title="Class that holds crosstalk temperature coeffecient related registers and values. ">OPT3101::crosstalkTempCoffC</a>  <a href="#abbfaa9d700ec5bac95dd88316b1dafe0">More...</a><br /></td></tr>
<tr class="separator:abbfaa9d700ec5bac95dd88316b1dafe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6646bcfb7cc1de3a3952ff7368f168ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_p_t3101_crosstalk.html#a6646bcfb7cc1de3a3952ff7368f168ba">loadFromFile</a> (char *fileName)</td></tr>
<tr class="memdesc:a6646bcfb7cc1de3a3952ff7368f168ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">load crosstalk values from file This methods loads the crosstalk values to a non-volatile memory. Storage/Restoration to/from non-volatile memory is important to be able to calculate temperature coeffecient <a class="el" href="class_o_p_t3101_1_1crosstalk_temp_coff_c.html" title="Class that holds crosstalk temperature coeffecient related registers and values. ">OPT3101::crosstalkTempCoffC</a>  <a href="#a6646bcfb7cc1de3a3952ff7368f168ba">More...</a><br /></td></tr>
<tr class="separator:a6646bcfb7cc1de3a3952ff7368f168ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50fc2fb4ea51ad52d25bcd3001afb3fc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_p_t3101_crosstalk.html#a50fc2fb4ea51ad52d25bcd3001afb3fc">reportCrosstalkValue</a> ()</td></tr>
<tr class="memdesc:a50fc2fb4ea51ad52d25bcd3001afb3fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">reports crosstalk value Internally invokes the <a class="el" href="class_o_p_t3101_crosstalk.html#acb6217116c652bc7c0c84e7b86504f18" title="calculates magnitude This method calculates the magnitude of crosstalk represented in codes...">OPT3101Crosstalk::magnitude</a> to calculate magnitude. A print statement or display to a screen can be added based on host.  <a href="#a50fc2fb4ea51ad52d25bcd3001afb3fc">More...</a><br /></td></tr>
<tr class="separator:a50fc2fb4ea51ad52d25bcd3001afb3fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a382c8271e35b33821b22d612466c96c7"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_p_t3101_crosstalk.html#a382c8271e35b33821b22d612466c96c7">I</a></td></tr>
<tr class="memdesc:a382c8271e35b33821b22d612466c96c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">16bit register setting for In phase component of the crosstalk  <a href="#a382c8271e35b33821b22d612466c96c7">More...</a><br /></td></tr>
<tr class="separator:a382c8271e35b33821b22d612466c96c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0454e10774015dd2e941f9284ea516da"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_p_t3101_crosstalk.html#a0454e10774015dd2e941f9284ea516da">Q</a></td></tr>
<tr class="memdesc:a0454e10774015dd2e941f9284ea516da"><td class="mdescLeft">&#160;</td><td class="mdescRight">16bit register setting for Quadrature phase component of the crosstalk  <a href="#a0454e10774015dd2e941f9284ea516da">More...</a><br /></td></tr>
<tr class="separator:a0454e10774015dd2e941f9284ea516da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a84d979d127f7624e6f19830b739d5e"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_p_t3101_crosstalk.html#a5a84d979d127f7624e6f19830b739d5e">xtalkScale</a></td></tr>
<tr class="memdesc:a5a84d979d127f7624e6f19830b739d5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Crosstalk registers in <a class="el" href="namespace_o_p_t3101.html">OPT3101</a> device are 24 bit where as compensation registers are 16 bit. The scale parameter captures the scaling of the 24bit register to fit in to 16 bits.  <a href="#a5a84d979d127f7624e6f19830b739d5e">More...</a><br /></td></tr>
<tr class="separator:a5a84d979d127f7624e6f19830b739d5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac34c766af7381d501b1716fd8a0076db"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_p_t3101_crosstalk.html#ac34c766af7381d501b1716fd8a0076db">illumXtalk</a></td></tr>
<tr class="memdesc:ac34c766af7381d501b1716fd8a0076db"><td class="mdescLeft">&#160;</td><td class="mdescRight">flag to capture if the crosstalk values belong to internal crosstalk (false) or illum crosstalk (true)  <a href="#ac34c766af7381d501b1716fd8a0076db">More...</a><br /></td></tr>
<tr class="separator:ac34c766af7381d501b1716fd8a0076db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72a555c338dc5ee04b513c2165afa08f"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_p_t3101_crosstalk.html#a72a555c338dc5ee04b513c2165afa08f">illumScale</a></td></tr>
<tr class="memdesc:a72a555c338dc5ee04b513c2165afa08f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Member that captures the snapshot of illumination current multiplier scale register during crosstalk measurement for analysis.  <a href="#a72a555c338dc5ee04b513c2165afa08f">More...</a><br /></td></tr>
<tr class="separator:a72a555c338dc5ee04b513c2165afa08f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f1b619763f8f5ea6d15a478b8eae4fa"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_p_t3101_crosstalk.html#a2f1b619763f8f5ea6d15a478b8eae4fa">illumDac</a></td></tr>
<tr class="memdesc:a2f1b619763f8f5ea6d15a478b8eae4fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Member that captures the snapshot of illumination current setting register during crosstalk measurement for analysis.  <a href="#a2f1b619763f8f5ea6d15a478b8eae4fa">More...</a><br /></td></tr>
<tr class="separator:a2f1b619763f8f5ea6d15a478b8eae4fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7f795c6099ada30df153141f08e3961"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_p_t3101_crosstalk.html#ac7f795c6099ada30df153141f08e3961">illumDCdac</a></td></tr>
<tr class="memdesc:ac7f795c6099ada30df153141f08e3961"><td class="mdescLeft">&#160;</td><td class="mdescRight">Member that captures the snapshot of illumination DC current setting register during crosstalk measurement for analysis.  <a href="#ac7f795c6099ada30df153141f08e3961">More...</a><br /></td></tr>
<tr class="separator:ac7f795c6099ada30df153141f08e3961"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5ac7c2a662a32e1ad954412a3c8d6ea"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_p_t3101_crosstalk.html#af5ac7c2a662a32e1ad954412a3c8d6ea">tmain</a></td></tr>
<tr class="memdesc:af5ac7c2a662a32e1ad954412a3c8d6ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Member that captures the snapshot of temperature of main temp sensor during crosstalk measurement.  <a href="#af5ac7c2a662a32e1ad954412a3c8d6ea">More...</a><br /></td></tr>
<tr class="separator:af5ac7c2a662a32e1ad954412a3c8d6ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88191108ac32b8cc9a25309ff5beae08"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_p_t3101_crosstalk.html#a88191108ac32b8cc9a25309ff5beae08">tillum</a></td></tr>
<tr class="memdesc:a88191108ac32b8cc9a25309ff5beae08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Member that captures the snapshot of temperature of external temp sensor during crosstalk measurement.  <a href="#a88191108ac32b8cc9a25309ff5beae08">More...</a><br /></td></tr>
<tr class="separator:a88191108ac32b8cc9a25309ff5beae08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48d662e8b0e764481e3aceb04ee857b0"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_p_t3101_crosstalk.html#a48d662e8b0e764481e3aceb04ee857b0">shiftIllumPhase</a></td></tr>
<tr class="memdesc:a48d662e8b0e764481e3aceb04ee857b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Member that captures the snapshot of shift illum phase during crosstalk measurement.  <a href="#a48d662e8b0e764481e3aceb04ee857b0">More...</a><br /></td></tr>
<tr class="separator:a48d662e8b0e764481e3aceb04ee857b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a431124b7eed113a2969971ebec49a3a0"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_p_t3101_crosstalk.html#a431124b7eed113a2969971ebec49a3a0">commonScale</a></td></tr>
<tr class="memdesc:a431124b7eed113a2969971ebec49a3a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Member that captures the common scale to be applied to all the crosstalk values to be applied <a class="el" href="namespace_o_p_t3101.html">OPT3101</a> device during facotry calibration. This value is calculated as a common value based on a bunch of <a class="el" href="class_o_p_t3101_crosstalk.html" title="Class that holds crosstalk related registers and values. ">OPT3101Crosstalk</a> instances.  <a href="#a431124b7eed113a2969971ebec49a3a0">More...</a><br /></td></tr>
<tr class="separator:a431124b7eed113a2969971ebec49a3a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class that holds crosstalk related registers and values. </p>
<p>This is a class container that can hold crosstalk values. <a class="el" href="namespace_o_p_t3101.html">OPT3101</a> device has different crosstalk phenomenon which needs to be calibrated and compensated<br />
 There are primarily 2 types of crosstalk phenomenon that need to be compensated or calibrated out to achieve good system performance. <br />
</p><ol type="1">
<li>Internal crosstalk<ol type="a">
<li>This is defined as the amount of signal measured by AFE when there the TX channels are turned OFF. Internal crosstalk phenomenon occurs due to coupling from power supply and ground.<br />
</li>
<li>This phenomenon is independent of TX channel or configuration since the TX channels are off.</li>
</ol>
</li>
<li>Illum crosstalk<ol type="a">
<li>This is defined as the amount of signal measured by AFE when the TX channels are turned ON and the system is pointing to infinity or with photodiode covered.</li>
<li>This phenomenon is highly dependent on TX channel and the current settings on each TX.</li>
</ol>
</li>
</ol>
<p><a class="el" href="namespace_o_p_t3101.html">OPT3101</a> device has internal registers to correct and compensate for different crosstalk phenomenon. This class acts as a temproary storage of crosstalk values measured. Calculations have to be made on the crosstalk values to transform them to register settings. Besides that other calibration coeffecients like <a class="el" href="class_o_p_t3101_1_1crosstalk_temp_coff_c.html" title="Class that holds crosstalk temperature coeffecient related registers and values. ">OPT3101::crosstalkTempCoffC</a> will be calcualted. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad983772d96c500ea16d5aa01dd03ce6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad983772d96c500ea16d5aa01dd03ce6d">&#9670;&nbsp;</a></span>OPT3101Crosstalk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OPT3101Crosstalk::OPT3101Crosstalk </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor for class <a class="el" href="class_o_p_t3101_crosstalk.html" title="Class that holds crosstalk related registers and values. ">OPT3101Crosstalk</a> Constructor initializes the <a class="el" href="class_o_p_t3101_crosstalk.html#ac34c766af7381d501b1716fd8a0076db" title="flag to capture if the crosstalk values belong to internal crosstalk (false) or illum crosstalk (true...">OPT3101Crosstalk::illumXtalk</a> parameter to a default false. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Nothing;</td><td></td></tr>
  </table>
  </dd>
</dl>
<p><b>Algorithm of the method is as follows</b></p>
<ul>
<li>sets <a class="el" href="class_o_p_t3101_crosstalk.html#ac34c766af7381d501b1716fd8a0076db" title="flag to capture if the crosstalk values belong to internal crosstalk (false) or illum crosstalk (true...">OPT3101Crosstalk::illumXtalk</a> to false by default </li>
</ul>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6646bcfb7cc1de3a3952ff7368f168ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6646bcfb7cc1de3a3952ff7368f168ba">&#9670;&nbsp;</a></span>loadFromFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OPT3101Crosstalk::loadFromFile </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>fileName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>load crosstalk values from file This methods loads the crosstalk values to a non-volatile memory. Storage/Restoration to/from non-volatile memory is important to be able to calculate temperature coeffecient <a class="el" href="class_o_p_t3101_1_1crosstalk_temp_coff_c.html" title="Class that holds crosstalk temperature coeffecient related registers and values. ">OPT3101::crosstalkTempCoffC</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fileName;</td><td>Path and name of the file from where the crosstalk values are loaded </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing; </dd></dl>
<p><b>Algorithm of the method is as follows</b></p><ul>
<li>User needs to implement file load/restore based on host. </li>
</ul>

</div>
</div>
<a id="acb6217116c652bc7c0c84e7b86504f18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb6217116c652bc7c0c84e7b86504f18">&#9670;&nbsp;</a></span>magnitude()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double OPT3101Crosstalk::magnitude </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>calculates magnitude This method calculates the magnitude of crosstalk represented in codes. Typical and good values for internal crosstalk is around 30. Typical and good values for illum crosstalk for highest current (170mA) &lt; 300 codes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Nothing;</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>magnitude of crosstalk; </dd></dl>
<p><b>Algorithm of the method is as follows</b></p>
<ul>
<li>Calculates the magnitude of crosstalk based on a predefined formula. <b>Warning:</b> This uses floating point arithmetic and math.h library for power and sqrt functions </li>
</ul>

</div>
</div>
<a id="a87b0ff4559660ea148e5bff1dff68331"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87b0ff4559660ea148e5bff1dff68331">&#9670;&nbsp;</a></span>readCrosstalkRegisters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OPT3101Crosstalk::readCrosstalkRegisters </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_p_t3101device.html">OPT3101device</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>reads the device 24 bit crosstalk registers This method reads the 24 bit crosstalk registers <a class="el" href="class_o_p_t3101_1_1registers.html#ae87864da6c35bed7c34ebf5f26ba4513" title="iphase_xtalk;Register Addresses: 59[23:0]; ">OPT3101::registers::iphase_xtalk</a> and <a class="el" href="class_o_p_t3101_1_1registers.html#ad94d98dfb26313a9d32c5c2c0c673693" title="qphase_xtalk;Register Addresses: 60[23:0]; ">OPT3101::registers::qphase_xtalk</a>. Translates them to 16 bit values and captures to <a class="el" href="class_o_p_t3101_crosstalk.html#a382c8271e35b33821b22d612466c96c7" title="16bit register setting for In phase component of the crosstalk ">OPT3101Crosstalk::I</a> <a class="el" href="class_o_p_t3101_crosstalk.html#a0454e10774015dd2e941f9284ea516da" title="16bit register setting for Quadrature phase component of the crosstalk ">OPT3101Crosstalk::Q</a> and <a class="el" href="class_o_p_t3101_crosstalk.html#a5a84d979d127f7624e6f19830b739d5e" title="Crosstalk registers in OPT3101 device are 24 bit where as compensation registers are 16 bit...">OPT3101Crosstalk::xtalkScale</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev;</td><td>The dev is pointer to class <a class="el" href="class_o_p_t3101device.html">OPT3101device</a> . This is required to realize I2C transactions and register map </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing; </dd></dl>
<p><b>Algorithm of the method is as follows</b></p>
<ul>
<li>Reads register <a class="el" href="class_o_p_t3101_1_1registers.html#ae87864da6c35bed7c34ebf5f26ba4513" title="iphase_xtalk;Register Addresses: 59[23:0]; ">OPT3101::registers::iphase_xtalk</a> in 24 bit from and converts to signed number</li>
<li>Reads register <a class="el" href="class_o_p_t3101_1_1registers.html#ad94d98dfb26313a9d32c5c2c0c673693" title="qphase_xtalk;Register Addresses: 60[23:0]; ">OPT3101::registers::qphase_xtalk</a> in 24 bit from and converts to signed number</li>
<li>Finds absolute max among the read I and Q register values to determine the <a class="el" href="class_o_p_t3101_crosstalk.html#ac34c766af7381d501b1716fd8a0076db" title="flag to capture if the crosstalk values belong to internal crosstalk (false) or illum crosstalk (true...">OPT3101Crosstalk::illumXtalk</a></li>
<li>Determines <a class="el" href="class_o_p_t3101_crosstalk.html#ac34c766af7381d501b1716fd8a0076db" title="flag to capture if the crosstalk values belong to internal crosstalk (false) or illum crosstalk (true...">OPT3101Crosstalk::illumXtalk</a> and assigns. The algorithm finds the minimum <a class="el" href="class_o_p_t3101_crosstalk.html#ac34c766af7381d501b1716fd8a0076db" title="flag to capture if the crosstalk values belong to internal crosstalk (false) or illum crosstalk (true...">OPT3101Crosstalk::illumXtalk</a> value for which the raw I and Q registers can be fit to a 16 bit register <br />
</li>
<li>Scales down the 24 bit raw register I and Q values with <a class="el" href="class_o_p_t3101_crosstalk.html#ac34c766af7381d501b1716fd8a0076db" title="flag to capture if the crosstalk values belong to internal crosstalk (false) or illum crosstalk (true...">OPT3101Crosstalk::illumXtalk</a> and assigns to <a class="el" href="class_o_p_t3101_crosstalk.html#a382c8271e35b33821b22d612466c96c7" title="16bit register setting for In phase component of the crosstalk ">OPT3101Crosstalk::I</a> and <a class="el" href="class_o_p_t3101_crosstalk.html#a0454e10774015dd2e941f9284ea516da" title="16bit register setting for Quadrature phase component of the crosstalk ">OPT3101Crosstalk::Q</a> </li>
</ul>

</div>
</div>
<a id="a4fa60e996e6b3a74387e7d20179ca899"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fa60e996e6b3a74387e7d20179ca899">&#9670;&nbsp;</a></span>readTemperatureIllum()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OPT3101Crosstalk::readTemperatureIllum </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_p_t3101device.html">OPT3101device</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>reads the temperature reading from external temp sensor This method reads the main temp sensor register OPT3101Register::tillum and captures to <a class="el" href="class_o_p_t3101_crosstalk.html#a88191108ac32b8cc9a25309ff5beae08" title="Member that captures the snapshot of temperature of external temp sensor during crosstalk measurement...">OPT3101Crosstalk::tillum</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev;</td><td>The dev is pointer to class <a class="el" href="class_o_p_t3101device.html">OPT3101device</a> . This is required to realize I2C transactions and register map </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing; </dd></dl>
<p><b>Algorithm of the method is as follows</b></p>
<ul>
<li>Reads register OPT3101Register::illum and assigns to OPT3101Crosstalk::illum </li>
</ul>

</div>
</div>
<a id="a2cae9662362161eb9a3d0e324b7513c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cae9662362161eb9a3d0e324b7513c3">&#9670;&nbsp;</a></span>readTemperatureMain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OPT3101Crosstalk::readTemperatureMain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_p_t3101device.html">OPT3101device</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>reads the temperature reading from main temp sensor This method reads the main temp sensor register OPT3101Register::tmain and captures to <a class="el" href="class_o_p_t3101_crosstalk.html#af5ac7c2a662a32e1ad954412a3c8d6ea" title="Member that captures the snapshot of temperature of main temp sensor during crosstalk measurement...">OPT3101Crosstalk::tmain</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev;</td><td>The dev is pointer to class <a class="el" href="class_o_p_t3101device.html">OPT3101device</a> . This is required to realize I2C transactions and register map </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing; </dd></dl>
<p><b>Algorithm of the method is as follows</b></p>
<ul>
<li>Reads register OPT3101Register::tmain and assigns to <a class="el" href="class_o_p_t3101_crosstalk.html#af5ac7c2a662a32e1ad954412a3c8d6ea" title="Member that captures the snapshot of temperature of main temp sensor during crosstalk measurement...">OPT3101Crosstalk::tmain</a> </li>
</ul>

</div>
</div>
<a id="a50fc2fb4ea51ad52d25bcd3001afb3fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50fc2fb4ea51ad52d25bcd3001afb3fc">&#9670;&nbsp;</a></span>reportCrosstalkValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OPT3101Crosstalk::reportCrosstalkValue </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>reports crosstalk value Internally invokes the <a class="el" href="class_o_p_t3101_crosstalk.html#acb6217116c652bc7c0c84e7b86504f18" title="calculates magnitude This method calculates the magnitude of crosstalk represented in codes...">OPT3101Crosstalk::magnitude</a> to calculate magnitude. A print statement or display to a screen can be added based on host. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Nothing;</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing; </dd></dl>
<p><b>Algorithm of the method is as follows</b></p>
<ul>
<li>This example calculates <a class="el" href="class_o_p_t3101_crosstalk.html#acb6217116c652bc7c0c84e7b86504f18" title="calculates magnitude This method calculates the magnitude of crosstalk represented in codes...">OPT3101Crosstalk::magnitude()</a> and uses printf to report the crosstalk on screen. User needs to implement what they desire to report the crosstalk </li>
</ul>

</div>
</div>
<a id="abbfaa9d700ec5bac95dd88316b1dafe0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbfaa9d700ec5bac95dd88316b1dafe0">&#9670;&nbsp;</a></span>storeToFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OPT3101Crosstalk::storeToFile </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>fileName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>store crosstalk values to file This methods stores the crosstalk values to a non-volatile memory. Storage to non-volatile memory is important to be able to calculate temperature coeffecient <a class="el" href="class_o_p_t3101_1_1crosstalk_temp_coff_c.html" title="Class that holds crosstalk temperature coeffecient related registers and values. ">OPT3101::crosstalkTempCoffC</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fileName;</td><td>Path and name of the file to capture the crosstalk values to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing; </dd></dl>
<p><b>Algorithm of the method is as follows</b></p><ul>
<li>User needs to implement file storage based on host. </li>
</ul>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a431124b7eed113a2969971ebec49a3a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a431124b7eed113a2969971ebec49a3a0">&#9670;&nbsp;</a></span>commonScale</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t OPT3101Crosstalk::commonScale</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Member that captures the common scale to be applied to all the crosstalk values to be applied <a class="el" href="namespace_o_p_t3101.html">OPT3101</a> device during facotry calibration. This value is calculated as a common value based on a bunch of <a class="el" href="class_o_p_t3101_crosstalk.html" title="Class that holds crosstalk related registers and values. ">OPT3101Crosstalk</a> instances. </p>

</div>
</div>
<a id="a382c8271e35b33821b22d612466c96c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a382c8271e35b33821b22d612466c96c7">&#9670;&nbsp;</a></span>I</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t OPT3101Crosstalk::I</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>16bit register setting for In phase component of the crosstalk </p>

</div>
</div>
<a id="a2f1b619763f8f5ea6d15a478b8eae4fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f1b619763f8f5ea6d15a478b8eae4fa">&#9670;&nbsp;</a></span>illumDac</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t OPT3101Crosstalk::illumDac</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Member that captures the snapshot of illumination current setting register during crosstalk measurement for analysis. </p>

</div>
</div>
<a id="ac7f795c6099ada30df153141f08e3961"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7f795c6099ada30df153141f08e3961">&#9670;&nbsp;</a></span>illumDCdac</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t OPT3101Crosstalk::illumDCdac</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Member that captures the snapshot of illumination DC current setting register during crosstalk measurement for analysis. </p>

</div>
</div>
<a id="a72a555c338dc5ee04b513c2165afa08f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72a555c338dc5ee04b513c2165afa08f">&#9670;&nbsp;</a></span>illumScale</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t OPT3101Crosstalk::illumScale</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Member that captures the snapshot of illumination current multiplier scale register during crosstalk measurement for analysis. </p>

</div>
</div>
<a id="ac34c766af7381d501b1716fd8a0076db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac34c766af7381d501b1716fd8a0076db">&#9670;&nbsp;</a></span>illumXtalk</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool OPT3101Crosstalk::illumXtalk</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>flag to capture if the crosstalk values belong to internal crosstalk (false) or illum crosstalk (true) </p>

</div>
</div>
<a id="a0454e10774015dd2e941f9284ea516da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0454e10774015dd2e941f9284ea516da">&#9670;&nbsp;</a></span>Q</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t OPT3101Crosstalk::Q</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>16bit register setting for Quadrature phase component of the crosstalk </p>

</div>
</div>
<a id="a48d662e8b0e764481e3aceb04ee857b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48d662e8b0e764481e3aceb04ee857b0">&#9670;&nbsp;</a></span>shiftIllumPhase</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t OPT3101Crosstalk::shiftIllumPhase</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Member that captures the snapshot of shift illum phase during crosstalk measurement. </p>

</div>
</div>
<a id="a88191108ac32b8cc9a25309ff5beae08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88191108ac32b8cc9a25309ff5beae08">&#9670;&nbsp;</a></span>tillum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t OPT3101Crosstalk::tillum</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Member that captures the snapshot of temperature of external temp sensor during crosstalk measurement. </p>

</div>
</div>
<a id="af5ac7c2a662a32e1ad954412a3c8d6ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5ac7c2a662a32e1ad954412a3c8d6ea">&#9670;&nbsp;</a></span>tmain</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t OPT3101Crosstalk::tmain</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Member that captures the snapshot of temperature of main temp sensor during crosstalk measurement. </p>

</div>
</div>
<a id="a5a84d979d127f7624e6f19830b739d5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a84d979d127f7624e6f19830b739d5e">&#9670;&nbsp;</a></span>xtalkScale</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t OPT3101Crosstalk::xtalkScale</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Crosstalk registers in <a class="el" href="namespace_o_p_t3101.html">OPT3101</a> device are 24 bit where as compensation registers are 16 bit. The scale parameter captures the scaling of the 24bit register to fit in to 16 bits. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>C:/folders/d/scripts/cpp/OPT3101SDK/OPT3101SDK/OPT3101SDK/<a class="el" href="_o_p_t3101_crosstalk_8h_source.html">OPT3101Crosstalk.h</a></li>
<li>C:/folders/d/scripts/cpp/OPT3101SDK/OPT3101SDK/OPT3101SDK/<a class="el" href="_o_p_t3101_crosstalk_8cpp.html">OPT3101Crosstalk.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
