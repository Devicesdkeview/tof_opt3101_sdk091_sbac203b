<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OPT3101SDK: OPT3101::phaseAmbientCoffC Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OPT3101SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_o_p_t3101.html">OPT3101</a></li><li class="navelem"><a class="el" href="class_o_p_t3101_1_1phase_ambient_coff_c.html">phaseAmbientCoffC</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="class_o_p_t3101_1_1phase_ambient_coff_c-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">OPT3101::phaseAmbientCoffC Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class that holds ambient phase coefficient related registers and values.  
 <a href="class_o_p_t3101_1_1phase_ambient_coff_c.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_o_p_t3101_design_coefficients_8h_source.html">OPT3101DesignCoefficients.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for OPT3101::phaseAmbientCoffC:</div>
<div class="dyncontent">
<div class="center"><img src="class_o_p_t3101_1_1phase_ambient_coff_c__coll__graph.png" border="0" usemap="#_o_p_t3101_1_1phase_ambient_coff_c_coll__map" alt="Collaboration graph"/></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa32106a402df3ed93a73203634017953"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_p_t3101_1_1phase_ambient_coff_c.html#aa32106a402df3ed93a73203634017953">phaseAmbientCoffC</a> ()</td></tr>
<tr class="memdesc:aa32106a402df3ed93a73203634017953"><td class="mdescLeft">&#160;</td><td class="mdescRight">initializes the members to 0  <a href="#aa32106a402df3ed93a73203634017953">More...</a><br /></td></tr>
<tr class="separator:aa32106a402df3ed93a73203634017953"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8f4dfff191b0adc7be044f39500e242"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_p_t3101_1_1phase_ambient_coff_c.html#ac8f4dfff191b0adc7be044f39500e242">calculateCoff</a> (uint16_t freqCounter)</td></tr>
<tr class="memdesc:ac8f4dfff191b0adc7be044f39500e242"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the register settings for the phase ambient coefficient Calculates <a class="el" href="class_o_p_t3101_1_1phase_ambient_coff_c.html#a267c8f925dedeb8af97aba7ffae95da4" title="Coefficients value of OPT3101::phaseAmbientCoffC::coff represented as 8 bit register values calculate...">OPT3101::phaseAmbientCoffC::coffReg</a> and <a class="el" href="class_o_p_t3101_1_1phase_ambient_coff_c.html#abed8ff9971976201638badbda9fd4543" title="Since there are 4 OPT3101::phaseAmbientCoffC::coff to represent them as 8 bit register values a commo...">OPT3101::phaseAmbientCoffC::commonScale</a> based on <a class="el" href="class_o_p_t3101_1_1phase_ambient_coff_c.html#af655f6704c4b3901b82a913f8a047258" title="Coefficients stored in floating point precision. Since there are 4 sections the OPT3101::phaseAmbient...">OPT3101::phaseAmbientCoffC::coff</a>.  <a href="#ac8f4dfff191b0adc7be044f39500e242">More...</a><br /></td></tr>
<tr class="separator:ac8f4dfff191b0adc7be044f39500e242"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afba22e085a341c2d9b1add1532ea06a1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_p_t3101_1_1phase_ambient_coff_c.html#afba22e085a341c2d9b1add1532ea06a1">report</a> ()</td></tr>
<tr class="memdesc:afba22e085a341c2d9b1add1532ea06a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">reports members of the instance Print the members of the class instance on screen  <a href="#afba22e085a341c2d9b1add1532ea06a1">More...</a><br /></td></tr>
<tr class="separator:afba22e085a341c2d9b1add1532ea06a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5b439c7ab384c03fa540d2bc06c3352"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_p_t3101_1_1phase_ambient_coff_c.html#ad5b439c7ab384c03fa540d2bc06c3352">storeToFile</a> (char *fileName)</td></tr>
<tr class="memdesc:ad5b439c7ab384c03fa540d2bc06c3352"><td class="mdescLeft">&#160;</td><td class="mdescRight">saves phase ambient coff values to file This methods saves the phase ambient coff values to a non-volatile memory. Storage/Restoration to/from non-volatile memory is important for factory calibration  <a href="#ad5b439c7ab384c03fa540d2bc06c3352">More...</a><br /></td></tr>
<tr class="separator:ad5b439c7ab384c03fa540d2bc06c3352"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41db9882facdbf3b437dcb54958b5763"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_p_t3101_1_1phase_ambient_coff_c.html#a41db9882facdbf3b437dcb54958b5763">loadFromFile</a> (char *fileName)</td></tr>
<tr class="memdesc:a41db9882facdbf3b437dcb54958b5763"><td class="mdescLeft">&#160;</td><td class="mdescRight">load phase ambient coff values from file This methods loads the phase ambient coff values to a non-volatile memory. Storage/Restoration to/from non-volatile memory is important for factory calibration  <a href="#a41db9882facdbf3b437dcb54958b5763">More...</a><br /></td></tr>
<tr class="separator:a41db9882facdbf3b437dcb54958b5763"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:af655f6704c4b3901b82a913f8a047258"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_p_t3101_1_1phase_ambient_coff_c.html#af655f6704c4b3901b82a913f8a047258">coff</a> [4]</td></tr>
<tr class="memdesc:af655f6704c4b3901b82a913f8a047258"><td class="mdescLeft">&#160;</td><td class="mdescRight">Coefficients stored in floating point precision. Since there are 4 sections the <a class="el" href="class_o_p_t3101_1_1phase_ambient_coff_c.html#af655f6704c4b3901b82a913f8a047258" title="Coefficients stored in floating point precision. Since there are 4 sections the OPT3101::phaseAmbient...">OPT3101::phaseAmbientCoffC::coff</a> is array of 4 elements. Units for this is <a class="el" href="class_o_p_t3101_1_1frame_data.html#af8661d11405953dc378ad4d7cb0f2db6" title="phase value measured by the AFE. Actually 16 bit unsigned value upscaled to 17 bits with 1 bit of fra...">OPT3101::frameData::phase</a> codes per unit <a class="el" href="class_o_p_t3101_1_1frame_data.html#a39ebf8bd06141bef6986e49013d03c35" title="value specifies the ambient light measured by the ambient cancellation block. Same as OPT3101::regist...">OPT3101::frameData::ambient</a> codes.  <a href="#af655f6704c4b3901b82a913f8a047258">More...</a><br /></td></tr>
<tr class="separator:af655f6704c4b3901b82a913f8a047258"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a267c8f925dedeb8af97aba7ffae95da4"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_p_t3101_1_1phase_ambient_coff_c.html#a267c8f925dedeb8af97aba7ffae95da4">coffReg</a> [4]</td></tr>
<tr class="memdesc:a267c8f925dedeb8af97aba7ffae95da4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Coefficients value of <a class="el" href="class_o_p_t3101_1_1phase_ambient_coff_c.html#af655f6704c4b3901b82a913f8a047258" title="Coefficients stored in floating point precision. Since there are 4 sections the OPT3101::phaseAmbient...">OPT3101::phaseAmbientCoffC::coff</a> represented as 8 bit register values calculated by <a class="el" href="class_o_p_t3101_1_1phase_ambient_coff_c.html#ac8f4dfff191b0adc7be044f39500e242" title="Calculates the register settings for the phase ambient coefficient Calculates OPT3101::phaseAmbientCo...">OPT3101::phaseAmbientCoffC::calculateCoff</a>.  <a href="#a267c8f925dedeb8af97aba7ffae95da4">More...</a><br /></td></tr>
<tr class="separator:a267c8f925dedeb8af97aba7ffae95da4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a2e9d6a0622f02024eaa8a1d2ec0011"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_p_t3101_1_1phase_ambient_coff_c.html#a5a2e9d6a0622f02024eaa8a1d2ec0011">splitsReg</a> [3]</td></tr>
<tr class="memdesc:a5a2e9d6a0622f02024eaa8a1d2ec0011"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register entries for the split point for the PWL. Since there are 4 sections where are 3 split points to be set. Units for this is <a class="el" href="class_o_p_t3101_1_1frame_data.html#a39ebf8bd06141bef6986e49013d03c35" title="value specifies the ambient light measured by the ambient cancellation block. Same as OPT3101::regist...">OPT3101::frameData::ambient</a> codes.  <a href="#a5a2e9d6a0622f02024eaa8a1d2ec0011">More...</a><br /></td></tr>
<tr class="separator:a5a2e9d6a0622f02024eaa8a1d2ec0011"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abed8ff9971976201638badbda9fd4543"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_p_t3101_1_1phase_ambient_coff_c.html#abed8ff9971976201638badbda9fd4543">commonScale</a></td></tr>
<tr class="memdesc:abed8ff9971976201638badbda9fd4543"><td class="mdescLeft">&#160;</td><td class="mdescRight">Since there are 4 <a class="el" href="class_o_p_t3101_1_1phase_ambient_coff_c.html#af655f6704c4b3901b82a913f8a047258" title="Coefficients stored in floating point precision. Since there are 4 sections the OPT3101::phaseAmbient...">OPT3101::phaseAmbientCoffC::coff</a> to represent them as 8 bit register values a common scaling factor is required. This is calculated by method <a class="el" href="class_o_p_t3101_1_1phase_ambient_coff_c.html#ac8f4dfff191b0adc7be044f39500e242" title="Calculates the register settings for the phase ambient coefficient Calculates OPT3101::phaseAmbientCo...">OPT3101::phaseAmbientCoffC::calculateCoff</a>.  <a href="#abed8ff9971976201638badbda9fd4543">More...</a><br /></td></tr>
<tr class="separator:abed8ff9971976201638badbda9fd4543"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a3febbb121799f99cb3f3f6578b43fae9"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_p_t3101_1_1phase_ambient_coff_c.html#a3febbb121799f99cb3f3f6578b43fae9">operator&lt;&lt;</a> (std::ostream &amp;os, const <a class="el" href="class_o_p_t3101_1_1phase_ambient_coff_c.html">phaseAmbientCoffC</a> *data)</td></tr>
<tr class="memdesc:a3febbb121799f99cb3f3f6578b43fae9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Operator overload to store class contents to a file Casts all the class members for file storage.  <a href="#a3febbb121799f99cb3f3f6578b43fae9">More...</a><br /></td></tr>
<tr class="separator:a3febbb121799f99cb3f3f6578b43fae9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1aec354cf48fdc653937a8168af6c78c"><td class="memItemLeft" align="right" valign="top">std::istream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_p_t3101_1_1phase_ambient_coff_c.html#a1aec354cf48fdc653937a8168af6c78c">operator&gt;&gt;</a> (std::istream &amp;is, <a class="el" href="class_o_p_t3101_1_1phase_ambient_coff_c.html">phaseAmbientCoffC</a> *data)</td></tr>
<tr class="memdesc:a1aec354cf48fdc653937a8168af6c78c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Operator overload to load class contents to from a file Retrieves all the class members from a stored file.  <a href="#a1aec354cf48fdc653937a8168af6c78c">More...</a><br /></td></tr>
<tr class="separator:a1aec354cf48fdc653937a8168af6c78c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class that holds ambient phase coefficient related registers and values. </p>
<p>This is a class container that can hold phase offset ambient coefficients and related registers. Photo diodes has a phenomenon where the phase delay of modulated current generated by photo diode is dependent on the amount of ambient light falling on the photo diode. The effect observed on the system is that the phase reported by the system will be dependent on the amount of ambient light of the environment. <br />
 <a class="el" href="namespace_o_p_t3101.html" title="OPT3101::device declaration This is declared here to avoid cyclic reference of classes. ">OPT3101</a> has compensation block for the same, which needs coefficients to be programmed. <a class="el" href="namespace_o_p_t3101.html" title="OPT3101::device declaration This is declared here to avoid cyclic reference of classes. ">OPT3101</a> has a look up table based correction since the phenomenon in non-linear. The look-up table is a 4 way split PWL correction with 4 independent coefficients. The PWL correlation is between ambient ADC output and phase measured<br />
 This class has members to contain the coefficients and the split points. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aa32106a402df3ed93a73203634017953"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa32106a402df3ed93a73203634017953">&#9670;&nbsp;</a></span>phaseAmbientCoffC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OPT3101::phaseAmbientCoffC::phaseAmbientCoffC </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>initializes the members to 0 </p>
<dl class="section return"><dt>Returns</dt><dd>Nothing; </dd></dl>
<p><b>Algorithm of the method is as follows</b></p>
<ul>
<li>Serializes all the members and returns to the stream </li>
</ul>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac8f4dfff191b0adc7be044f39500e242"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8f4dfff191b0adc7be044f39500e242">&#9670;&nbsp;</a></span>calculateCoff()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OPT3101::phaseAmbientCoffC::calculateCoff </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>freqCounter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the register settings for the phase ambient coefficient Calculates <a class="el" href="class_o_p_t3101_1_1phase_ambient_coff_c.html#a267c8f925dedeb8af97aba7ffae95da4" title="Coefficients value of OPT3101::phaseAmbientCoffC::coff represented as 8 bit register values calculate...">OPT3101::phaseAmbientCoffC::coffReg</a> and <a class="el" href="class_o_p_t3101_1_1phase_ambient_coff_c.html#abed8ff9971976201638badbda9fd4543" title="Since there are 4 OPT3101::phaseAmbientCoffC::coff to represent them as 8 bit register values a commo...">OPT3101::phaseAmbientCoffC::commonScale</a> based on <a class="el" href="class_o_p_t3101_1_1phase_ambient_coff_c.html#af655f6704c4b3901b82a913f8a047258" title="Coefficients stored in floating point precision. Since there are 4 sections the OPT3101::phaseAmbient...">OPT3101::phaseAmbientCoffC::coff</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">freqCounter;</td><td>freqCounter is the count which represents the frequency from the Frequency correction block. This is read from register <a class="el" href="class_o_p_t3101_1_1registers.html#a0d343738560c0bc418f34b458735a811" title="freq_count_read_reg;Register Addresses: 16[14:0];read register which holds the value of freq_loop...">OPT3101::registers::freq_count_read_reg</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing; </dd></dl>
<p><b>Algorithm of the method is as follows</b></p>
<ul>
<li>Identifies max of absolute of <a class="el" href="class_o_p_t3101_1_1phase_ambient_coff_c.html#af655f6704c4b3901b82a913f8a047258" title="Coefficients stored in floating point precision. Since there are 4 sections the OPT3101::phaseAmbient...">OPT3101::phaseAmbientCoffC::coff</a> values <br />
<br />
<br />
</li>
<li>scales the max coefficient with input frequencyCount <br />
<br />
</li>
<li>Finds a <a class="el" href="class_o_p_t3101_1_1phase_ambient_coff_c.html#abed8ff9971976201638badbda9fd4543" title="Since there are 4 OPT3101::phaseAmbientCoffC::coff to represent them as 8 bit register values a commo...">OPT3101::phaseAmbientCoffC::commonScale</a> which can fit the <a class="el" href="class_o_p_t3101_1_1phase_ambient_coff_c.html#af655f6704c4b3901b82a913f8a047258" title="Coefficients stored in floating point precision. Since there are 4 sections the OPT3101::phaseAmbient...">OPT3101::phaseAmbientCoffC::coff</a> to 8 bit registers</li>
<li>Finds <a class="el" href="class_o_p_t3101_1_1phase_ambient_coff_c.html#a267c8f925dedeb8af97aba7ffae95da4" title="Coefficients value of OPT3101::phaseAmbientCoffC::coff represented as 8 bit register values calculate...">OPT3101::phaseAmbientCoffC::coffReg</a> values (8 bit register values) based on <a class="el" href="class_o_p_t3101_1_1phase_ambient_coff_c.html#af655f6704c4b3901b82a913f8a047258" title="Coefficients stored in floating point precision. Since there are 4 sections the OPT3101::phaseAmbient...">OPT3101::phaseAmbientCoffC::coff</a> and <a class="el" href="class_o_p_t3101_1_1phase_ambient_coff_c.html#abed8ff9971976201638badbda9fd4543" title="Since there are 4 OPT3101::phaseAmbientCoffC::coff to represent them as 8 bit register values a commo...">OPT3101::phaseAmbientCoffC::commonScale</a> </li>
</ul>

</div>
</div>
<a id="a41db9882facdbf3b437dcb54958b5763"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41db9882facdbf3b437dcb54958b5763">&#9670;&nbsp;</a></span>loadFromFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OPT3101::phaseAmbientCoffC::loadFromFile </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>fileName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>load phase ambient coff values from file This methods loads the phase ambient coff values to a non-volatile memory. Storage/Restoration to/from non-volatile memory is important for factory calibration </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fileName;</td><td>Path and name of the file from where to load </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing; </dd></dl>
<p><b>Algorithm of the method is as follows</b></p>
<ul>
<li>User needs to implement file load/restore based on host. </li>
</ul>

</div>
</div>
<a id="afba22e085a341c2d9b1add1532ea06a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afba22e085a341c2d9b1add1532ea06a1">&#9670;&nbsp;</a></span>report()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OPT3101::phaseAmbientCoffC::report </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>reports members of the instance Print the members of the class instance on screen </p>
<dl class="section return"><dt>Returns</dt><dd>Nothing; </dd></dl>
<p><b>Algorithm of the method is as follows</b></p>
<ul>
<li>Prints all the members and values of members on screen. <br />
</li>
<li>Prints all the members and values of members on screen. </li>
</ul>

</div>
</div>
<a id="ad5b439c7ab384c03fa540d2bc06c3352"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5b439c7ab384c03fa540d2bc06c3352">&#9670;&nbsp;</a></span>storeToFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OPT3101::phaseAmbientCoffC::storeToFile </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>fileName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>saves phase ambient coff values to file This methods saves the phase ambient coff values to a non-volatile memory. Storage/Restoration to/from non-volatile memory is important for factory calibration </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fileName;</td><td>Path and name of the file to store </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing; </dd></dl>
<p><b>Algorithm of the method is as follows</b></p>
<ul>
<li>User needs to implement file storage based on host. </li>
</ul>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="a3febbb121799f99cb3f3f6578b43fae9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3febbb121799f99cb3f3f6578b43fae9">&#9670;&nbsp;</a></span>operator&lt;&lt;</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>os</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_o_p_t3101_1_1phase_ambient_coff_c.html">phaseAmbientCoffC</a> *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Operator overload to store class contents to a file Casts all the class members for file storage. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">os;</td><td>os is data stream to serialize data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data;</td><td>data is pointer to the class to be serialized and stored </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::ostream; Serialized std::ostream to be written to a file </dd></dl>

</div>
</div>
<a id="a1aec354cf48fdc653937a8168af6c78c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1aec354cf48fdc653937a8168af6c78c">&#9670;&nbsp;</a></span>operator&gt;&gt;</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::istream&amp; operator&gt;&gt; </td>
          <td>(</td>
          <td class="paramtype">std::istream &amp;&#160;</td>
          <td class="paramname"><em>is</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_o_p_t3101_1_1phase_ambient_coff_c.html">phaseAmbientCoffC</a> *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Operator overload to load class contents to from a file Retrieves all the class members from a stored file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">is;</td><td>is input stream from where the data is loaded </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">data;</td><td>data is pointer to the class to be restored </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::istream; Serialized Input stream loaded from file </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="af655f6704c4b3901b82a913f8a047258"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af655f6704c4b3901b82a913f8a047258">&#9670;&nbsp;</a></span>coff</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double OPT3101::phaseAmbientCoffC::coff[4]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Coefficients stored in floating point precision. Since there are 4 sections the <a class="el" href="class_o_p_t3101_1_1phase_ambient_coff_c.html#af655f6704c4b3901b82a913f8a047258" title="Coefficients stored in floating point precision. Since there are 4 sections the OPT3101::phaseAmbient...">OPT3101::phaseAmbientCoffC::coff</a> is array of 4 elements. Units for this is <a class="el" href="class_o_p_t3101_1_1frame_data.html#af8661d11405953dc378ad4d7cb0f2db6" title="phase value measured by the AFE. Actually 16 bit unsigned value upscaled to 17 bits with 1 bit of fra...">OPT3101::frameData::phase</a> codes per unit <a class="el" href="class_o_p_t3101_1_1frame_data.html#a39ebf8bd06141bef6986e49013d03c35" title="value specifies the ambient light measured by the ambient cancellation block. Same as OPT3101::regist...">OPT3101::frameData::ambient</a> codes. </p>

</div>
</div>
<a id="a267c8f925dedeb8af97aba7ffae95da4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a267c8f925dedeb8af97aba7ffae95da4">&#9670;&nbsp;</a></span>coffReg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t OPT3101::phaseAmbientCoffC::coffReg[4]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Coefficients value of <a class="el" href="class_o_p_t3101_1_1phase_ambient_coff_c.html#af655f6704c4b3901b82a913f8a047258" title="Coefficients stored in floating point precision. Since there are 4 sections the OPT3101::phaseAmbient...">OPT3101::phaseAmbientCoffC::coff</a> represented as 8 bit register values calculated by <a class="el" href="class_o_p_t3101_1_1phase_ambient_coff_c.html#ac8f4dfff191b0adc7be044f39500e242" title="Calculates the register settings for the phase ambient coefficient Calculates OPT3101::phaseAmbientCo...">OPT3101::phaseAmbientCoffC::calculateCoff</a>. </p>

</div>
</div>
<a id="abed8ff9971976201638badbda9fd4543"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abed8ff9971976201638badbda9fd4543">&#9670;&nbsp;</a></span>commonScale</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t OPT3101::phaseAmbientCoffC::commonScale</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Since there are 4 <a class="el" href="class_o_p_t3101_1_1phase_ambient_coff_c.html#af655f6704c4b3901b82a913f8a047258" title="Coefficients stored in floating point precision. Since there are 4 sections the OPT3101::phaseAmbient...">OPT3101::phaseAmbientCoffC::coff</a> to represent them as 8 bit register values a common scaling factor is required. This is calculated by method <a class="el" href="class_o_p_t3101_1_1phase_ambient_coff_c.html#ac8f4dfff191b0adc7be044f39500e242" title="Calculates the register settings for the phase ambient coefficient Calculates OPT3101::phaseAmbientCo...">OPT3101::phaseAmbientCoffC::calculateCoff</a>. </p>

</div>
</div>
<a id="a5a2e9d6a0622f02024eaa8a1d2ec0011"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a2e9d6a0622f02024eaa8a1d2ec0011">&#9670;&nbsp;</a></span>splitsReg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t OPT3101::phaseAmbientCoffC::splitsReg[3]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register entries for the split point for the PWL. Since there are 4 sections where are 3 split points to be set. Units for this is <a class="el" href="class_o_p_t3101_1_1frame_data.html#a39ebf8bd06141bef6986e49013d03c35" title="value specifies the ambient light measured by the ambient cancellation block. Same as OPT3101::regist...">OPT3101::frameData::ambient</a> codes. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>C:/folders/d/scripts/cpp/OPT3101SDK/OPT3101SDK/OPT3101SDK/<a class="el" href="_o_p_t3101_design_coefficients_8h_source.html">OPT3101DesignCoefficients.h</a></li>
<li>C:/folders/d/scripts/cpp/OPT3101SDK/OPT3101SDK/OPT3101SDK/<a class="el" href="_o_p_t3101_design_coefficients_8cpp.html">OPT3101DesignCoefficients.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
