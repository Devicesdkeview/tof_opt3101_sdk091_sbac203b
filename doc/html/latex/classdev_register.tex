\hypertarget{classdev_register}{}\section{dev\+Register Class Reference}
\label{classdev_register}\index{dev\+Register@{dev\+Register}}


Class that contains positional information for registers in the registermap.  




{\ttfamily \#include $<$register.\+h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdev_register_a17ac6e4e1ee9a2395e94e0a3c1000caa}{dev\+Register}} (uint8\+\_\+t \mbox{\hyperlink{classdev_register_a6596e86ccbcd857febb5c28bc03aa480}{size}})
\begin{DoxyCompactList}\small\item\em Constructor for class \mbox{\hyperlink{classdev_register}{dev\+Register}} Constructor allocated size to each register instance on construction. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classdev_register_a944b194a7335c6b0a9f9f3c1ffc12c97}{operator=}} (int32\+\_\+t value)
\begin{DoxyCompactList}\small\item\em Operator overload for \textquotesingle{}=\textquotesingle{}. \end{DoxyCompactList}\item 
uint32\+\_\+t \mbox{\hyperlink{classdev_register_ac7f2e7ec834102cdf3ebd3a6f849612a}{read}} ()
\begin{DoxyCompactList}\small\item\em Function called to read the value of register. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
uint8\+\_\+t \mbox{\hyperlink{classdev_register_a217b3d5b947f4c596bcdfb4ec175790f}{msb}} \mbox{[}2\mbox{]}
\begin{DoxyCompactList}\small\item\em This is the M\+SB position of this register. The register occupies the \mbox{\hyperlink{classdev_register_ad16fbe9cd26ba1e6d823141976f756da}{dev\+Register\+::address}} from \mbox{\hyperlink{classdev_register_a217b3d5b947f4c596bcdfb4ec175790f}{dev\+Register\+::msb}} to \mbox{\hyperlink{classdev_register_a6908a02139ef85a535848889583e6c12}{dev\+Register\+::lsb}}. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{classdev_register_a6908a02139ef85a535848889583e6c12}{lsb}} \mbox{[}2\mbox{]}
\begin{DoxyCompactList}\small\item\em This is the L\+SB position of this register. The register occupies the \mbox{\hyperlink{classdev_register_ad16fbe9cd26ba1e6d823141976f756da}{dev\+Register\+::address}} from \mbox{\hyperlink{classdev_register_a217b3d5b947f4c596bcdfb4ec175790f}{dev\+Register\+::msb}} to \mbox{\hyperlink{classdev_register_a6908a02139ef85a535848889583e6c12}{dev\+Register\+::lsb}}. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{classdev_register_ad16fbe9cd26ba1e6d823141976f756da}{address}} \mbox{[}2\mbox{]}
\begin{DoxyCompactList}\small\item\em This is the A\+D\+D\+R\+E\+SS of this register. The register occupies the \mbox{\hyperlink{classdev_register_ad16fbe9cd26ba1e6d823141976f756da}{dev\+Register\+::address}} from \mbox{\hyperlink{classdev_register_a217b3d5b947f4c596bcdfb4ec175790f}{dev\+Register\+::msb}} to \mbox{\hyperlink{classdev_register_a6908a02139ef85a535848889583e6c12}{dev\+Register\+::lsb}}. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{classdev_register_a6596e86ccbcd857febb5c28bc03aa480}{size}}
\begin{DoxyCompactList}\small\item\em This specifies how many A\+D\+D\+R\+E\+SS does this register span across. For eg\+: There are registers which span multiple address locations in chunks. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Class that contains positional information for registers in the registermap. 

Class that contains positional information for a register in O\+P\+T3101 device. O\+P\+T3101 has 256 registers each 24 bits wide (\mbox{\hyperlink{classdev_register_a217b3d5b947f4c596bcdfb4ec175790f}{dev\+Register\+::msb}} of 23 and \mbox{\hyperlink{classdev_register_a6908a02139ef85a535848889583e6c12}{dev\+Register\+::lsb}} of 0 with \mbox{\hyperlink{classdev_register_ad16fbe9cd26ba1e6d823141976f756da}{dev\+Register\+::address}} varying from 0 to 255) Bits are groups together and are addressed with a name. Registers have names, placed at different segements of the register map. For eg\+: tmain (temperature of main temp sensor) of O\+P\+T3101 occupies location with address 10 from msb of 23 bits to 12 bits in other words \mbox{\hyperlink{classdev_register_ad16fbe9cd26ba1e6d823141976f756da}{dev\+Register\+::address}}=10 \mbox{\hyperlink{classdev_register_a217b3d5b947f4c596bcdfb4ec175790f}{dev\+Register\+::msb}}=23 \mbox{\hyperlink{classdev_register_a6908a02139ef85a535848889583e6c12}{dev\+Register\+::lsb}}=12 This class helps resolve programmers to read and write I2C to O\+P\+T3101 device by writing program code with higher level of abstraction with register names rather than dealing with positions of registers \mbox{\hyperlink{classdev_register}{dev\+Register}} class helps resolve M\+SB, L\+SB and A\+D\+D\+R\+E\+SS fields for a register by its name. ~\newline
Using this class gives user a functional name for each register making the register read and write more readable and meaningful. In case of O\+P\+T3101 device there are some registers which span across 2 address positions, hence the \mbox{\hyperlink{classdev_register_ad16fbe9cd26ba1e6d823141976f756da}{dev\+Register\+::address}}, \mbox{\hyperlink{classdev_register_a217b3d5b947f4c596bcdfb4ec175790f}{dev\+Register\+::msb}} and \mbox{\hyperlink{classdev_register_a6908a02139ef85a535848889583e6c12}{dev\+Register\+::lsb}} have 2 allocations each. In most register cases they may not end up using both the allocations. The actual usage can be found using \mbox{\hyperlink{classdev_register_a6596e86ccbcd857febb5c28bc03aa480}{dev\+Register\+::size}} member ~\newline
 Example of register which has more than 1 address is \mbox{\hyperlink{class_o_p_t3101_registers_a7b68f2c8301673bf2329bf3d1c2068d7}{O\+P\+T3101\+Registers\+::amplitude\+\_\+min\+\_\+thr}} which spans across register 0x10 from bits 23\+:16 and 0x11 from bites 23\+:16 

\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classdev_register_a17ac6e4e1ee9a2395e94e0a3c1000caa}\label{classdev_register_a17ac6e4e1ee9a2395e94e0a3c1000caa}} 
\index{dev\+Register@{dev\+Register}!dev\+Register@{dev\+Register}}
\index{dev\+Register@{dev\+Register}!dev\+Register@{dev\+Register}}
\subsubsection{\texorpdfstring{dev\+Register()}{devRegister()}}
{\footnotesize\ttfamily dev\+Register\+::dev\+Register (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{size }\end{DoxyParamCaption})}



Constructor for class \mbox{\hyperlink{classdev_register}{dev\+Register}} Constructor allocated size to each register instance on construction. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em size;} & size (typically 1 or 2 bytes) determins the number of segements that the register is divided in to. \\
\hline
\end{DoxyParams}
{\bfseries Algorithm of the method is as follows}


\begin{DoxyItemize}
\item Assigns size from input argument to the class member \mbox{\hyperlink{classdev_register_a6596e86ccbcd857febb5c28bc03aa480}{dev\+Register\+::size}} 
\end{DoxyItemize}

\subsection{Member Function Documentation}
\mbox{\Hypertarget{classdev_register_a944b194a7335c6b0a9f9f3c1ffc12c97}\label{classdev_register_a944b194a7335c6b0a9f9f3c1ffc12c97}} 
\index{dev\+Register@{dev\+Register}!operator=@{operator=}}
\index{operator=@{operator=}!dev\+Register@{dev\+Register}}
\subsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily void dev\+Register\+::operator= (\begin{DoxyParamCaption}\item[{int32\+\_\+t}]{value }\end{DoxyParamCaption})}



Operator overload for \textquotesingle{}=\textquotesingle{}. 

This makes calling this class simpler. dev.\+register=value will resolve the register address and value and invoke \mbox{\hyperlink{classhost_controller_a7c4126810a72333e3ebe749159a0a516}{host\+Controller\+::write\+I2C}} method With proper implementation of the \mbox{\hyperlink{classhost_controller_a7c4126810a72333e3ebe749159a0a516}{host\+Controller\+::write\+I2C}} methods the h/w would receive resolved I2C W\+R\+I\+TE commands The write operations are read modify writes to make the system robust A single call of this method could invoke up to 2 I2C R\+E\+AD and 2 I2C W\+R\+I\+TE transaction depending on the register 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em value;} & value to be set to register \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Nothing 
\end{DoxyReturn}
\mbox{\Hypertarget{classdev_register_ac7f2e7ec834102cdf3ebd3a6f849612a}\label{classdev_register_ac7f2e7ec834102cdf3ebd3a6f849612a}} 
\index{dev\+Register@{dev\+Register}!read@{read}}
\index{read@{read}!dev\+Register@{dev\+Register}}
\subsubsection{\texorpdfstring{read()}{read()}}
{\footnotesize\ttfamily uint32\+\_\+t dev\+Register\+::read (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Function called to read the value of register. 

This method provides an abstraction for register to be used seemlessly with code for read register operations. \mbox{\hyperlink{classhost_controller_a2bee6b3ec45fac241484f7dad943d8ed}{host\+Controller\+::read\+I2C}} method is invoked with \mbox{\hyperlink{classdev_register_ad16fbe9cd26ba1e6d823141976f756da}{dev\+Register\+::address}} fields and the resulting register value is combined as per the register positional information and reported as a uint32\+\_\+t number A single call of this method could invoke up to 2 I2C R\+E\+AD transaction depending on the register 
\begin{DoxyParams}{Parameters}
{\em Nothing} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
value; value is reading of register from O\+P\+T3101 device 
\end{DoxyReturn}
{\bfseries Algorithm of the method is as follows}


\begin{DoxyItemize}
\item Loops though the number of \mbox{\hyperlink{classdev_register_ad16fbe9cd26ba1e6d823141976f756da}{dev\+Register\+::address}} fields based on on \mbox{\hyperlink{classdev_register_a6596e86ccbcd857febb5c28bc03aa480}{dev\+Register\+::size}}
\item Invokes \mbox{\hyperlink{classhost_controller_a2bee6b3ec45fac241484f7dad943d8ed}{host\+Controller\+::read\+I2\+C()}} method to get register value from h/w
\item Masks the bits for the register value to be reported based on register positional information
\item Assembles the value of the register
\item Returns the value read from the h/w for the register name specified 
\end{DoxyItemize}

\subsection{Member Data Documentation}
\mbox{\Hypertarget{classdev_register_ad16fbe9cd26ba1e6d823141976f756da}\label{classdev_register_ad16fbe9cd26ba1e6d823141976f756da}} 
\index{dev\+Register@{dev\+Register}!address@{address}}
\index{address@{address}!dev\+Register@{dev\+Register}}
\subsubsection{\texorpdfstring{address}{address}}
{\footnotesize\ttfamily uint8\+\_\+t dev\+Register\+::address\mbox{[}2\mbox{]}}



This is the A\+D\+D\+R\+E\+SS of this register. The register occupies the \mbox{\hyperlink{classdev_register_ad16fbe9cd26ba1e6d823141976f756da}{dev\+Register\+::address}} from \mbox{\hyperlink{classdev_register_a217b3d5b947f4c596bcdfb4ec175790f}{dev\+Register\+::msb}} to \mbox{\hyperlink{classdev_register_a6908a02139ef85a535848889583e6c12}{dev\+Register\+::lsb}}. 

\mbox{\Hypertarget{classdev_register_a6908a02139ef85a535848889583e6c12}\label{classdev_register_a6908a02139ef85a535848889583e6c12}} 
\index{dev\+Register@{dev\+Register}!lsb@{lsb}}
\index{lsb@{lsb}!dev\+Register@{dev\+Register}}
\subsubsection{\texorpdfstring{lsb}{lsb}}
{\footnotesize\ttfamily uint8\+\_\+t dev\+Register\+::lsb\mbox{[}2\mbox{]}}



This is the L\+SB position of this register. The register occupies the \mbox{\hyperlink{classdev_register_ad16fbe9cd26ba1e6d823141976f756da}{dev\+Register\+::address}} from \mbox{\hyperlink{classdev_register_a217b3d5b947f4c596bcdfb4ec175790f}{dev\+Register\+::msb}} to \mbox{\hyperlink{classdev_register_a6908a02139ef85a535848889583e6c12}{dev\+Register\+::lsb}}. 

\mbox{\Hypertarget{classdev_register_a217b3d5b947f4c596bcdfb4ec175790f}\label{classdev_register_a217b3d5b947f4c596bcdfb4ec175790f}} 
\index{dev\+Register@{dev\+Register}!msb@{msb}}
\index{msb@{msb}!dev\+Register@{dev\+Register}}
\subsubsection{\texorpdfstring{msb}{msb}}
{\footnotesize\ttfamily uint8\+\_\+t dev\+Register\+::msb\mbox{[}2\mbox{]}}



This is the M\+SB position of this register. The register occupies the \mbox{\hyperlink{classdev_register_ad16fbe9cd26ba1e6d823141976f756da}{dev\+Register\+::address}} from \mbox{\hyperlink{classdev_register_a217b3d5b947f4c596bcdfb4ec175790f}{dev\+Register\+::msb}} to \mbox{\hyperlink{classdev_register_a6908a02139ef85a535848889583e6c12}{dev\+Register\+::lsb}}. 

\mbox{\Hypertarget{classdev_register_a6596e86ccbcd857febb5c28bc03aa480}\label{classdev_register_a6596e86ccbcd857febb5c28bc03aa480}} 
\index{dev\+Register@{dev\+Register}!size@{size}}
\index{size@{size}!dev\+Register@{dev\+Register}}
\subsubsection{\texorpdfstring{size}{size}}
{\footnotesize\ttfamily uint8\+\_\+t dev\+Register\+::size}



This specifies how many A\+D\+D\+R\+E\+SS does this register span across. For eg\+: There are registers which span multiple address locations in chunks. 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
C\+:/folders/d/scripts/cpp/\+O\+P\+T3101\+S\+D\+K/\+O\+P\+T3101\+S\+D\+K/\+O\+P\+T3101\+S\+D\+K/\mbox{\hyperlink{register_8h}{register.\+h}}\item 
C\+:/folders/d/scripts/cpp/\+O\+P\+T3101\+S\+D\+K/\+O\+P\+T3101\+S\+D\+K/\+O\+P\+T3101\+S\+D\+K/\mbox{\hyperlink{register_8cpp}{register.\+cpp}}\end{DoxyCompactItemize}
